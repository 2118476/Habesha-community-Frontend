@use "sass:map";

@mixin container {
  max-width: var(--content-max);
  padding-inline: var(--container-pad);
  margin-inline: auto;
}

@mixin card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-8);
  box-shadow: var(--shadow-sm);
}

@mixin grid($min: 240px, $gap: 16px) {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax($min, 1fr));
  gap: $gap;
}

/* ============================================================================
 * SECTION TITLE MIXIN - Global theme-aware section heading styles
 * 
 * Use this mixin for ALL section titles across the application to ensure
 * consistent styling in both light and dark modes.
 * 
 * Light mode: Black text on light blue highlight
 * Dark mode: White text on glassy dark background with blur
 * 
 * Usage:
 *   .mySectionTitle {
 *     @include section-title;
 *   }
 * ============================================================================ */
@mixin section-title {
  /* Light mode (DEFAULT): BLACK text on light blue background */
  color: var(--section-title-color-light, #000000);
  background: var(--section-highlight-bg-light, rgba(14, 165, 233, 0.08));
  border: 1px solid var(--section-highlight-border-light, rgba(14, 165, 233, 0.15));
  padding: 8px 12px;
  border-radius: 10px;
  width: fit-content;
  box-shadow: 0 2px 8px rgba(14, 165, 233, 0.06);
  
  /* Remove any text shadows/glows that reduce readability */
  text-shadow: none;
  
  /* Highlight strip on the left (optional, can be removed if not desired) */
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(180deg, 
      var(--brand, #0ea5e9) 0%, 
      var(--accent, #9333ea) 100%
    );
    border-radius: 10px 0 0 10px;
  }
  
  /* Dark mode: WHITE text on dark glassy background */
  :global([data-theme="dark"]) & {
    color: var(--section-title-color-dark, #ffffff);
    background: var(--section-highlight-bg-dark, rgba(56, 189, 248, 0.12));
    border-color: var(--section-highlight-border-dark, rgba(56, 189, 248, 0.25));
    box-shadow: 0 4px 16px rgba(56, 189, 248, 0.15);
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    
    /* Brighter highlight strip for dark mode */
    &::before {
      background: linear-gradient(180deg, 
        var(--brand, #38bdf8) 0%, 
        var(--accent, #c084fc) 100%
      );
    }
  }
}

.visually-hidden {
  position: absolute !important;
  height: 1px; width: 1px;
  overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px);
  white-space: nowrap;
  border: 0;
  padding: 0;
}
